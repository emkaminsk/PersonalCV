<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>404 - Page Not Found | Marcin Kamiński</title>
    <meta name="description" content="The page you are looking for could not be found." />
    <meta name="robots" content="noindex, nofollow" />

    <!-- Inline theme script to prevent flash of wrong theme -->
    <script>
      (function() {
        const saved = localStorage.getItem('picoPreferredColorScheme');
        const theme = saved ||
          (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        document.documentElement.setAttribute('data-theme', theme);
      })();
    </script>

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css"
    />
    <link rel="stylesheet" href="custom.css" />

    <style>
      body {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }

      main {
        display: flex;
        justify-content: center;
        align-items: center;
        flex: 1;
        text-align: center;
        padding: 2rem 1rem;
      }

      .error-container {
        max-width: 600px;
      }

      .error-code {
        font-size: 6rem;
        font-weight: 700;
        line-height: 1;
        margin: 0;
        color: var(--primary);
      }

      .error-message {
        font-size: 1.5rem;
        margin: 1rem 0;
      }

      .error-description {
        font-size: 1.1rem;
        color: var(--muted-color);
        margin-bottom: 2rem;
      }

      .action-buttons {
        display: flex;
        gap: 1rem;
        justify-content: center;
        flex-wrap: wrap;
      }

      @media (max-width: 768px) {
        .error-code {
          font-size: 4rem;
        }

        .error-message {
          font-size: 1.25rem;
        }

        .error-description {
          font-size: 1rem;
        }

        .action-buttons {
          flex-direction: column;
          align-items: stretch;
        }
      }
    </style>
  </head>
  <body>
    <!-- Skip to content link for keyboard accessibility -->
    <a href="#main-content" class="skip-link">Skip to content</a>

    <!-- Simple header with branding -->
    <header class="container">
      <nav aria-label="Error page navigation">
        <ul>
          <li>
            <a href="/" class="contrast">
              <strong>Marcin Kamiński</strong>
            </a>
          </li>
        </ul>
        <ul>
          <li>
            <button
              aria-label="Toggle theme"
              aria-pressed="false"
              data-theme-toggle
              class="contrast theme-toggle-btn"
            >
              <svg
                aria-hidden="true"
                width="24"
                height="24"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
                stroke-linecap="round"
                stroke-linejoin="round"
                class="theme-icon"
              >
                <!-- Sun icon (shown in light mode) -->
                <circle cx="12" cy="12" r="5"></circle>
                <line x1="12" y1="1" x2="12" y2="3"></line>
                <line x1="12" y1="21" x2="12" y2="23"></line>
                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                <line x1="1" y1="12" x2="3" y2="12"></line>
                <line x1="21" y1="12" x2="23" y2="12"></line>
                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
              </svg>
            </button>
          </li>
        </ul>
      </nav>
    </header>

    <main id="main-content" role="main">
      <div class="error-container">
        <p class="error-code" aria-hidden="true">404</p>
        <h1 class="error-message">Page Not Found</h1>
        <p class="error-description">
          The page you are looking for might have been removed, had its name changed,
          or is temporarily unavailable.
        </p>
        <div class="action-buttons">
          <a href="/" role="button">Go to Homepage</a>
          <a href="/#experience" role="button" class="secondary">View Experience</a>
        </div>
      </div>
    </main>

    <footer class="container">
      <small>© 2023 Marcin Kamiński</small>
    </footer>

    <!-- JavaScript -->
    <script src="js/minimal-theme-switcher.js"></script>
    <script>
      // Theme toggle functionality
      document.addEventListener('DOMContentLoaded', () => {
        const themeToggleBtn = document.querySelector('[data-theme-toggle]');
        const themeIcon = themeToggleBtn ? themeToggleBtn.querySelector('.theme-icon') : null;

        function updateThemeIcon(theme) {
          if (!themeIcon) return;

          if (theme === 'dark') {
            // Moon icon for dark mode
            themeIcon.innerHTML = `
              <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
            `;
          } else {
            // Sun icon for light mode
            themeIcon.innerHTML = `
              <circle cx="12" cy="12" r="5"></circle>
              <line x1="12" y1="1" x2="12" y2="3"></line>
              <line x1="12" y1="21" x2="12" y2="23"></line>
              <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
              <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
              <line x1="1" y1="12" x2="3" y2="12"></line>
              <line x1="21" y1="12" x2="23" y2="12"></line>
              <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
              <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
            `;
          }
        }

        if (themeToggleBtn && typeof themeSwitcher !== 'undefined') {
          updateThemeIcon(themeSwitcher.scheme);

          themeToggleBtn.addEventListener('click', () => {
            const currentTheme = themeSwitcher.scheme;
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            themeSwitcher.scheme = newTheme;
            updateThemeIcon(newTheme);
            themeToggleBtn.setAttribute('aria-pressed', newTheme === 'dark');
          });
        }
      });
    </script>
  </body>
</html>
